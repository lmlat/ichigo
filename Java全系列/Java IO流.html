<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>IO流 | 程序员成长指南</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/ichigo/logo.ico">
    <meta name="description" content="记录个人的成长过程, 知识点归纳总结, 从入坑到挖坑的开心时光~">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/ichigo/assets/css/0.styles.cf0a4651.css" as="style"><link rel="preload" href="/ichigo/assets/js/app.8ce08534.js" as="script"><link rel="preload" href="/ichigo/assets/js/3.440a4598.js" as="script"><link rel="preload" href="/ichigo/assets/js/1.7543bd4f.js" as="script"><link rel="preload" href="/ichigo/assets/js/12.40112076.js" as="script"><link rel="preload" href="/ichigo/assets/js/9.00897824.js" as="script"><link rel="prefetch" href="/ichigo/assets/js/10.06f06474.js"><link rel="prefetch" href="/ichigo/assets/js/11.d88a996d.js"><link rel="prefetch" href="/ichigo/assets/js/13.ecbcfc5b.js"><link rel="prefetch" href="/ichigo/assets/js/14.2d4ad4d8.js"><link rel="prefetch" href="/ichigo/assets/js/15.7f02c07a.js"><link rel="prefetch" href="/ichigo/assets/js/16.3e83926b.js"><link rel="prefetch" href="/ichigo/assets/js/17.895365fa.js"><link rel="prefetch" href="/ichigo/assets/js/18.5ce7702c.js"><link rel="prefetch" href="/ichigo/assets/js/19.4026da04.js"><link rel="prefetch" href="/ichigo/assets/js/20.82775ba2.js"><link rel="prefetch" href="/ichigo/assets/js/21.336709a8.js"><link rel="prefetch" href="/ichigo/assets/js/22.cd8ce7e7.js"><link rel="prefetch" href="/ichigo/assets/js/23.de97340d.js"><link rel="prefetch" href="/ichigo/assets/js/24.8136404b.js"><link rel="prefetch" href="/ichigo/assets/js/25.580ae8ec.js"><link rel="prefetch" href="/ichigo/assets/js/4.2bb206fd.js"><link rel="prefetch" href="/ichigo/assets/js/5.4377ba8f.js"><link rel="prefetch" href="/ichigo/assets/js/6.374eca97.js"><link rel="prefetch" href="/ichigo/assets/js/7.d49f5611.js"><link rel="prefetch" href="/ichigo/assets/js/8.8f8e74be.js">
    <link rel="stylesheet" href="/ichigo/assets/css/0.styles.cf0a4651.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>程序员成长指南</h3> <p class="description" data-v-59e6cb88>记录个人的成长过程, 知识点归纳总结, 从入坑到挖坑的开心时光~</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>所幸你是例外</span>
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ichigo/" class="home-link router-link-active"><!----> <span class="site-name">程序员成长指南</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ichigo/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><a href="https://juejin.cn/user/726107228492253" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  导航
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/ichigo/数据结构与算法/" class="nav-link"><i class="undefined"></i>
  数据结构与算法
</a></div><div class="nav-item"><a href="https://juejin.cn/user/726107228492253" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-juejin"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/coding-lin" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><!----> <h3 class="name" data-v-1fad0c41>
    所幸你是例外
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>13</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>0</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/ichigo/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><a href="https://juejin.cn/user/726107228492253" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  导航
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/ichigo/数据结构与算法/" class="nav-link"><i class="undefined"></i>
  数据结构与算法
</a></div><div class="nav-item"><a href="https://juejin.cn/user/726107228492253" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-juejin"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/coding-lin" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Java全系列</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ichigo/Java全系列/Java IO流.html" class="active sidebar-link">IO流</a></li><li><a href="/ichigo/Java全系列/Java8新特性.html" class="sidebar-link">lambda表达示</a></li><li><a href="/ichigo/Java全系列/Java9新特性.html" class="sidebar-link">Java9新特性</a></li><li><a href="/ichigo/Java全系列/Java全篇.html" class="sidebar-link">概述</a></li><li><a href="/ichigo/Java全系列/Java常用类.html" class="sidebar-link">大数类</a></li><li><a href="/ichigo/Java全系列/正则表达式.html" class="sidebar-link">正则表达式</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88></h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>所幸你是例外</span>
          
        <!---->
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">IO流</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>所幸你是例外</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="io流"><a href="#io流" class="header-anchor">#</a> IO流</h1> <h2 id="io流概念"><a href="#io流概念" class="header-anchor">#</a> IO流概念</h2> <blockquote><p><strong>流是指一连串流动的字符,是以先进先出方式发送信息的通道</strong>，即数据在两设备间的传输称为流，流的本质是数据传输，根据数据传输特性将流抽象为各种类，方便更直观的进行数据操作**</p></blockquote> <h2 id="java-io流"><a href="#java-io流" class="header-anchor">#</a> Java IO流</h2> <blockquote><p><strong>Java中把不同的输入/输出源（键盘、文件、网络连接等）抽象表述为“流”（stream），通过流的方式允许Java程序使用相同的方式来访问不同的输入/输出源。stream是从起源（source）到接收（sink）的有序数据</strong> <strong>Java把所有传统的个流类型（类或抽象类）都放在java.io包中，用以实现输入/输出功能</strong></p></blockquote> <h2 id="file-文件操作"><a href="#file-文件操作" class="header-anchor">#</a> File 文件操作</h2> <p>作用：使用File类来进行文件相关操作</p> <p>语法：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;abc.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">File</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;C:\\users\\home&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>常用方法：</p> <table><thead><tr><th>方法名</th> <th>描述</th> <th>用法</th> <th>返回值</th></tr></thead> <tbody><tr><td>createNewFile</td> <td>创建一个空文件</td> <td>File.createNewFile();</td> <td>若文件成功创建，返回true；否则返回false；需要抛出IOException异常</td></tr> <tr><td>createTempFile</td> <td>创建临时文件</td> <td>File.createTempFile(&quot;abc&quot;,&quot;.txt&quot;);</td> <td>返回文件对象。需要抛出IOException异常</td></tr> <tr><td>listRoots</td> <td>获取文件根目录列表</td> <td></td> <td>返回File对象数组</td></tr> <tr><td>mkdir</td> <td>创建一个文件夹目录</td> <td>只有当C:\users目录存在时,f.mkdir()才会创建home目录</td> <td></td></tr> <tr><td>mkdirs</td> <td></td> <td>f.mkdirs()将创建users目录(若它不存在C盘中),它将在C:\users目录下创建主目录</td> <td></td></tr> <tr><td>delete</td> <td>删除文件/目录</td> <td></td> <td>文件/目录被删除,返回true; 否则返回false</td></tr> <tr><td>deleteOnExit</td> <td>JVM终止时删除文件/目录</td> <td></td> <td>文件/目录被删除,返回true; 否则返回false</td></tr> <tr><td>renameTo</td> <td>重命名文件</td> <td></td> <td>若文件重命名成功,返回true;否则返回false。</td></tr> <tr><td>length</td> <td>获取文件的大小</td> <td></td> <td></td></tr> <tr><td>listFiles</td> <td>获取目录中的所有文件和目录</td> <td></td> <td>返回File数组</td></tr> <tr><td>list</td> <td>获取目录中的所有文件和目录</td> <td></td> <td>返回String数组</td></tr></tbody></table> <h2 id="filefilter-文件过滤器"><a href="#filefilter-文件过滤器" class="header-anchor">#</a> FileFilter 文件过滤器</h2> <p>FileFilter函数式接口包含一个accept方法，它将File作为参数，若需要列出文件，则返回true；若返回false，则不会列出文件。</p> <p>FileFilter接口源代码：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">FileFilter</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Tests whether or not the specified abstract pathname should be
     * included in a pathname list.
     *
     * @param  pathname  The abstract pathname to be tested
     * @return  &lt;code&gt;true&lt;/code&gt; if and only if &lt;code&gt;pathname&lt;/code&gt;
     *          should be included
     */</span>
    <span class="token keyword">boolean</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">File</span> pathname<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="inputstream-输入流"><a href="#inputstream-输入流" class="header-anchor">#</a> InputStream 输入流</h2> <p>InputStream 类是所有输入流的超类，即它是抽象基本组件。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">InputStream</span> 
 <span class="token operator">|</span>
 <span class="token operator">+</span><span class="token operator">--</span><span class="token class-name">FileInputStream</span> 文件输入流
 <span class="token operator">|</span>
 <span class="token operator">+</span><span class="token operator">--</span><span class="token class-name">ByteArrayInputStream</span> 字节输入
 <span class="token operator">|</span>
 <span class="token operator">+</span><span class="token operator">--</span><span class="token class-name">PipedInputStream</span> 管道输入流
 <span class="token operator">|</span>
 <span class="token operator">+</span><span class="token operator">--</span><span class="token class-name">FilterInputStream</span> 过滤器输入流
 <span class="token operator">|</span>
 <span class="token operator">+</span><span class="token operator">--</span><span class="token class-name">BufferedInputStream</span> 缓冲输入流
 <span class="token operator">|</span>
 <span class="token operator">+</span><span class="token operator">--</span><span class="token class-name">PushbackInputStream</span> 推回输入流
 <span class="token operator">|</span>
 <span class="token operator">+</span><span class="token operator">--</span><span class="token class-name">DataInputStream</span> 数据输入流
 <span class="token operator">|</span>
 <span class="token operator">+</span><span class="token operator">--</span><span class="token class-name">ObjectInputStream</span> 对象输入流
</code></pre></div><p>超类 InputStream 包含从输入流读取数据的基本方法，所有具体类都支持。如下表所示：</p> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>read()</td> <td>读取一个字节并将读取的字节作为int返回。当到达输入流的结尾时，返回-1。</td></tr> <tr><td>read(byte[] buffer)</td> <td>读取最大值直到指定缓冲区的长度。它返回在缓冲区中读取的字节数。当到达输入流的结尾，返回-1。</td></tr> <tr><td>read(byte[] buffer,int offset,int len)</td> <td>读取最大值到指定长度字节。数据从offset开始写入缓冲区。它返回读取的字节数或-1，当到达输入流的结束。</td></tr> <tr><td>close()</td> <td>关闭输入流</td></tr> <tr><td>available()</td> <td>返回<strong>可以从此输入流读取但不阻塞的估计字节数</strong></td></tr></tbody></table> <h2 id="outputstream-流出流"><a href="#outputstream-流出流" class="header-anchor">#</a> OutputStream 流出流</h2> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>flush()</td> <td>方法用于将任何缓冲的字节刷新到数据宿</td></tr> <tr><td>close()</td> <td>关闭输入流</td></tr> <tr><td>write</td> <td></td></tr> <tr><td>write(byte[] b)</td> <td></td></tr> <tr><td>write(byte[] b, int offset, int len)</td> <td></td></tr></tbody></table> <h2 id="文件流"><a href="#文件流" class="header-anchor">#</a> 文件流</h2> <h3 id=""><a href="#" class="header-anchor">#</a></h3> <h2 id="缓冲流"><a href="#缓冲流" class="header-anchor">#</a> 缓冲流</h2> <h4 id="bufferedinputstream"><a href="#bufferedinputstream" class="header-anchor">#</a> BufferedInputStream</h4> <p>BufferedInputStream通过缓冲数据向输入流添加功能。<strong>它维护一个内部缓冲区以存储从底层输入流读取的字节</strong>。</p> <p>语法：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">BufferedInputStream</span> bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>例：文件读取</p> <div class="language-java extra-class"><pre class="language-java"><code>
</code></pre></div><h2 id="推回流"><a href="#推回流" class="header-anchor">#</a> 推回流</h2> <h4 id="pushbackinputstream"><a href="#pushbackinputstream" class="header-anchor">#</a> PushbackInputStream</h4> <p>PushbackInputStream向输入流添加功能，允许我们使用其unread()方法推回读取的字节。</p> <h2 id="二进制流"><a href="#二进制流" class="header-anchor">#</a> 二进制流</h2> <h4 id="datainputstream"><a href="#datainputstream" class="header-anchor">#</a> DataInputStream</h4> <p>DataInputStream可以从输入流中读取Java基本数据类型值。</p> <h4 id="dataoutputstream"><a href="#dataoutputstream" class="header-anchor">#</a> DataOutputStream</h4> <p>DataOutputStream可以写入Java基本数据类型值，通过writeUTF方法写入字符串数据；</p> <h2 id="打印流"><a href="#打印流" class="header-anchor">#</a> 打印流</h2> <h4 id="printstream"><a href="#printstream" class="header-anchor">#</a> PrintStream</h4> <blockquote><p>它能以合适的格式打印任何数据类型值或对象。它可以将数据写入输出流不抛出IOException。</p> <p>若一个方法抛出一个IOException，PrintStream流会设置一个内部标志，并不会抛出该异常。可以通过checkError()方法获取标志值，若方法执行期间发生IOException，则返回true。</p> <p>PrintStream具有自动刷新功能。我们可以在其构造函数中指定它应该自动刷新写入它的内容。</p></blockquote> <h2 id="管道流"><a href="#管道流" class="header-anchor">#</a> 管道流</h2> <p>管道流是用来在多个线程之间进行信息传递的Java流。它是基于生产者-消费者模式，其中生产者产生数据并且消费者消费数据。在管道流中，通过PipedOutputStream、PipedInputStream对象表示管道的两端。</p> <p>连接管道的二种方式：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">PipedInputStream</span> pis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PipedInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">PipedOutputStream</span> pos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PipedOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//pos.connect(pis); 作用一样</span>
pis<span class="token punctuation">.</span><span class="token function">connnect</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">PipedInputStream</span> pis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PipedInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">PipedOutputStream</span> pos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PipedOutputStream</span><span class="token punctuation">(</span>pis<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Java的管道输入与输出实际上使用的是一个循环缓冲数来实现的。输入流PipedInputStream从这个循环缓冲数组中读数据，输出流PipedOutputStream往这个循环缓冲数组中写入数据。当这个缓冲数组已满的时候，输出流PipedOutputStream所在的线程将阻塞；当这个缓冲数组为空的时候，输入流PipedInputStream所在的线程将阻塞。</p> <p>注意点：</p> <blockquote><ul><li>管道流仅用于多个线程之间传递信息，若用在同一个线程中可能会造成死锁；</li> <li>管道流的输入输出是成对的，一个输出流只能对应一个输入流，使用构造函数或者connect函数进行连接；</li> <li>一对管道流包含一个缓冲区，其默认值为1024个字节，若要改变缓冲区大小，可以使用带有参数的构造函数；</li> <li>管道的读写操作是互相阻塞的，当缓冲区为空时，读操作阻塞；当缓冲区满时，写操作阻塞；</li> <li>管道依附于线程，因此若线程结束，则虽然管道流对象还在，仍然会报错“read dead end”；</li> <li>管道流的读取方法与普通流不同，只有输出流正确close时，输出流才能读到-1值</li></ul></blockquote> <h2 id="对象序列化"><a href="#对象序列化" class="header-anchor">#</a> 对象序列化</h2> <h3 id="对象序列化主要用途"><a href="#对象序列化主要用途" class="header-anchor">#</a> 对象序列化主要用途：</h3> <ul><li>将对象的字节序列永久的保存在磁盘文件中。</li> <li>通过网络来传送对象的字节序列。</li></ul> <p>序列化：将一个对象实例转换成字节序列</p> <p>实现Externalizable接口使我们能够更好地控制从流中读取和写入对象。它继承Serializable接口。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Externalizable</span> <span class="token keyword">extends</span> <span class="token class-name">Serializable</span>  <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">readExternal</span><span class="token punctuation">(</span><span class="token class-name">ObjectInput</span> in<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span><span class="token class-name">ClassNotFoundException</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">writeExternal</span><span class="token punctuation">(</span><span class="token class-name">ObjectOutput</span> out<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="阅读器与写入器"><a href="#阅读器与写入器" class="header-anchor">#</a> 阅读器与写入器</h2> <h2 id="内存流"><a href="#内存流" class="header-anchor">#</a> 内存流</h2> <p>ByteArrayOutputStream：字节数组输出流在内存中创建一个字节数组缓冲区，所有发送到输出流的数据保存在该字节数组缓冲区中。实际作用就是通过write()将对象各个字段写入一个字节数组，然后在使用toByteArray()将字节数据取出来，通过tcp传输给服务器。</p> <p>ByteArrayInputStream：字节数组输入流在内存中创建一个字节数组缓冲区，从输入流读取的数据保存在该字节数组缓冲区中。实际就是将客户端发送过来的消息转成byte数组，存入内存，在分批次读取数据。</p> <h2 id="i-o缓冲区"><a href="#i-o缓冲区" class="header-anchor">#</a> I/O缓冲区</h2> <h3 id="什么是nio"><a href="#什么是nio" class="header-anchor">#</a> 什么是NIO?</h3> <p><strong>通道</strong>：提供双向数据传输，使用通道来读取或写入数据；</p> <p><strong>缓冲区</strong>：具有确定其可以包含的数据的上限的固定容量；</p> <p>基于流的I/O中，数据传输的基本单位是字节；基于通道的NIO中，数据传输的基于单位是缓冲区。</p> <h3 id="缓冲区"><a href="#缓冲区" class="header-anchor">#</a> 缓冲区</h3> <p>所有缓冲区类都继承自一个抽象的Buffer类。不同的缓冲区保存不同数据类型的数据。包含原始值的缓冲区类如下：</p> <ul><li>ByteBuffer</li> <li>ShortBuffer</li> <li>CharBuffer</li> <li>IntBuffer</li> <li>LongBuffer</li> <li>FloatBuffer</li> <li>DoubleBuffer</li></ul> <h3 id="缓冲区属性"><a href="#缓冲区属性" class="header-anchor">#</a> 缓冲区属性</h3> <p>以下是缓冲区的四个重要属性。</p> <div class="language-java extra-class"><pre class="language-java"><code>mark <span class="token operator">&lt;=</span> position <span class="token operator">&lt;=</span> limit <span class="token operator">&lt;=</span> capacity
</code></pre></div><ul><li>Capacity：缓冲区容量</li> <li>Position：当前读取位置</li> <li>Limit：读取的最大长度</li> <li>Mark：标记位置，reset时需要</li></ul> <p>参考链接：</p> <ul><li>https://www.jianshu.com/p/e1416f026c3d</li> <li>https://blog.csdn.net/hewusheng10/article/details/8523924</li></ul></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/ichigo/Java全系列/Java8新特性.html">
          lambda表达示
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#io流概念" class="sidebar-link reco-side-io流概念" data-v-b57cc07c>IO流概念</a></li><li class="level-2" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#java-io流" class="sidebar-link reco-side-java-io流" data-v-b57cc07c>Java IO流</a></li><li class="level-2" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#file-文件操作" class="sidebar-link reco-side-file-文件操作" data-v-b57cc07c>File 文件操作</a></li><li class="level-2" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#filefilter-文件过滤器" class="sidebar-link reco-side-filefilter-文件过滤器" data-v-b57cc07c>FileFilter 文件过滤器</a></li><li class="level-2" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#inputstream-输入流" class="sidebar-link reco-side-inputstream-输入流" data-v-b57cc07c>InputStream 输入流</a></li><li class="level-2" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#outputstream-流出流" class="sidebar-link reco-side-outputstream-流出流" data-v-b57cc07c>OutputStream 流出流</a></li><li class="level-2" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#文件流" class="sidebar-link reco-side-文件流" data-v-b57cc07c>文件流</a></li><li class="level-3" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#" class="sidebar-link reco-side-" data-v-b57cc07c></a></li><li class="level-2" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#缓冲流" class="sidebar-link reco-side-缓冲流" data-v-b57cc07c>缓冲流</a></li><li class="level-2" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#推回流" class="sidebar-link reco-side-推回流" data-v-b57cc07c>推回流</a></li><li class="level-2" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#二进制流" class="sidebar-link reco-side-二进制流" data-v-b57cc07c>二进制流</a></li><li class="level-2" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#打印流" class="sidebar-link reco-side-打印流" data-v-b57cc07c>打印流</a></li><li class="level-2" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#管道流" class="sidebar-link reco-side-管道流" data-v-b57cc07c>管道流</a></li><li class="level-2" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#对象序列化" class="sidebar-link reco-side-对象序列化" data-v-b57cc07c>对象序列化</a></li><li class="level-3" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#对象序列化主要用途" class="sidebar-link reco-side-对象序列化主要用途" data-v-b57cc07c>对象序列化主要用途：</a></li><li class="level-2" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#阅读器与写入器" class="sidebar-link reco-side-阅读器与写入器" data-v-b57cc07c>阅读器与写入器</a></li><li class="level-2" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#内存流" class="sidebar-link reco-side-内存流" data-v-b57cc07c>内存流</a></li><li class="level-2" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#i-o缓冲区" class="sidebar-link reco-side-i-o缓冲区" data-v-b57cc07c>I/O缓冲区</a></li><li class="level-3" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#什么是nio" class="sidebar-link reco-side-什么是nio" data-v-b57cc07c>什么是NIO?</a></li><li class="level-3" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#缓冲区" class="sidebar-link reco-side-缓冲区" data-v-b57cc07c>缓冲区</a></li><li class="level-3" data-v-b57cc07c><a href="/ichigo/Java%E5%85%A8%E7%B3%BB%E5%88%97/Java%20IO%E6%B5%81.html#缓冲区属性" class="sidebar-link reco-side-缓冲区属性" data-v-b57cc07c>缓冲区属性</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----><div></div></div></div>
    <script src="/ichigo/assets/js/app.8ce08534.js" defer></script><script src="/ichigo/assets/js/3.440a4598.js" defer></script><script src="/ichigo/assets/js/1.7543bd4f.js" defer></script><script src="/ichigo/assets/js/12.40112076.js" defer></script><script src="/ichigo/assets/js/9.00897824.js" defer></script>
  </body>
</html>
